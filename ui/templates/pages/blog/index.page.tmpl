{{ template "app" . }}

{{ define "title" }}Blog Index{{ end }}

{{ define "body" }}
<h2>Latest Blog</h2>

<form id="search" method="GET">
    <label>
        <span>Title</span>
        <input type="search" name="title" id="title" value="{{ .Search.Title }}">
    </label>
    <label>
        <span>Tag</span>
        <select name="type_id" id="type_id">
            <option value="" {{ if eq .Search.TypeId 0}}selected{{ end }}>All</option>
            {{ range $type := .Data.Types }}
            <option value="{{ $type.Id }}" {{ if eq $.Search.TypeId $type.Id }}selected{{ end }}>{{ $type.Title }}</option>
            {{ end }}
        </select>
    </label>
    <button>Search</button>
</form>

<section>
    {{ range $post := .Data.Posts }}
    <article>{{ $post.Id }} - {{ $post.Title }} - {{ $post.TypeId }} - {{ $post.Description }} - {{ $post.ReleasedAt }} - {{ $post.UpdatedAt }} - {{ $post.Type.Title }}</article>
    {{ end }}
</section>

<div>
    Showing {{ .Pagination.PerPage }} from {{ .Pagination.Total }} - Current Page: {{ .Pagination.Page }}
</div>
{{ end }}